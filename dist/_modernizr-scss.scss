//***********************************************
//	_modernizr-scss.scss, 
//
//	(c) 2015, FCOO
//
//	https://github.com/FCOO/modernizr-scss
//	https://github.com/FCOO
//
//	scss functions to create classes to display/hide elements 
//	with class "show-for-(no-)[TEST]" / "hide-for-(no-)[TEST]"
//
//************************************************


/************************************************
mixin _table-show
Internal mixin setting the Specific visibility for tables
************************************************/
@mixin _table-show( $class-name ){
	table { 
		&.#{$class-name}	{ display: table !important; }
	}
	thead {
		&.#{$class-name}	{ display: table-header-group !important; }
	}
	tbody {
		&.#{$class-name}	{ display: table-row-group !important; }
	}
	tr {
		&.#{$class-name}	{ display: table-row !important; }
	}
	td, th {
		&.#{$class-name}	{ display: table-cell !important; }
	}
}


@mixin show-and-hide-for-modernizr-test( $modernizr-test , $parent-element-type: '', $incl-no-class: true, $fail-as-default: false ){
	// class-names for hide/show when test passed/failed
	$show-for-class		: show-for-#{$modernizr-test};
	$hide-for-no-class: hide-for-no-#{$modernizr-test};
	$hide-for-class		: hide-for-#{$modernizr-test};
	$show-for-no-class: show-for-no-#{$modernizr-test};
	
	// Hide/show when test passed
	#{$parent-element-type}.#{$modernizr-test}{
		.#{$show-for-class}	{ display: inherit	!important; }
		.#{$hide-for-class}	{ display: none			!important; }

		@if $incl-no-class {
			.#{$hide-for-no-class}	{ display: inherit	!important; }
			.#{$show-for-no-class}	{ display: none			!important; }
		}
		
		// Specific visibility for tables 
		@include _table-show( #{$show-for-class} );
		@if $incl-no-class {
			@include _table-show( #{$hide-for-no-class} );
		}
	}


	// Hide/show when test failed
	@if $fail-as-default {
		.#{$hide-for-class}	{ display: inherit	!important; }
		.#{$show-for-class}	{ display: none			!important; }

		@if $incl-no-class {
			.#{$show-for-no-class}	{ display: inherit	!important; }
			.#{$hide-for-no-class}	{ display: none			!important; }
		}
		
		// Specific visibility for tables 
		@include _table-show( #{$hide-for-class}	);
		@if $incl-no-class {
			@include _table-show( #{$show-for-no-class} );
		}

	} @else {
		#{$parent-element-type}.no-#{$modernizr-test}{
			.#{$hide-for-class}	{ display: inherit	!important; }
			.#{$show-for-class}	{ display: none			!important; }

			@if $incl-no-class {
				.#{$show-for-no-class}	{ display: inherit	!important; }
				.#{$hide-for-no-class}	{ display: none			!important; }
			}
		
			// Specific visibility for tables 
			@include _table-show( #{$hide-for-class}	);
			@if $incl-no-class {
				@include _table-show( #{$show-for-no-class} );
			}
		}
	}
}

